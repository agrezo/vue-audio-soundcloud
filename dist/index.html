<html>

  <head>
    <title>Vue Audio Soundcloud</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Lato:400,700" rel="stylesheet">

    <script src="https://cdn.jsdelivr.net/npm/vue@2.5.16/dist/vue.js"></script>
    <script src="https://w.soundcloud.com/player/api.js"></script>
    <script src='vue-audio-soundcloud.min.js'></script>
    
    <style type="text/css">
      * {
        margin: 0;
        padding: 0;
      }
      html {
        background: #f9f9f9;
        font-family: 'Lato', sans-serif;
      }
      body {
        padding-bottom: 100px;
      }
      .container {
        width: 800px;
        margin: auto;
      }
      h1 {
        font-size: 1.8rem;
        padding-top: 50px;
        text-align: center;
      }
      h2 {
        font-size: 1.2rem;
        margin-bottom: 8px;
        text-align: center;
      }
      h3 {
        color: #aaa;
        font-size: .9rem;
        font-weight: 400;
        text-align: center;
      }
      h4 {
        font-size: 1.1rem;
        font-weight: 700;
        margin-bottom: 20px;
        margin-top: 50px;
      }
      
      .track {
        background: #fff;
        cursor: pointer;
        display: flex;
        margin-bottom: 15px;
        padding: 15px;
        transition: all .3s ease;
        -moz-transition: all .3s ease;
        -webkit-transition: all .3s ease;
      }
      .track:hover {
        box-shadow: 3px 3px 10px rgba(0, 0, 0, .1)
      }

      .track-cover img{
        display: block;
        margin-right: 15px;
        width: 50px;
      }

      .track-artist {
        color: #ccc;
        font-size: .8rem;
        margin-bottom: 2px;
        margin-top: 6px;
      }

      .track-title {
        font-size: .9rem;
        font-weight: 700;
      }

      .disabled, .selected {
        color: #ff6b81;
      }

      .player {
        background: #eee;
        left: 0;
        position: fixed;
        bottom: 0;
        width: 100%;
      }      
      .timeline {
        position: relative;
        display: flex;
        align-items: center;
        width: 350px;
        height: 40px;
      }
      .timeline:before {
        content: "";
        display: block;
        background: #ccc;
        width: 100%;
        height: 8px;
        border-radius: 100px;
      }
      .timeline-bar {
        background: #00f;
        border-radius: 100px;
        height: 8px;
        left: 0;
        position: absolute;
      }
      .volume {
        position: relative;
        display: flex;
        align-items: center;
        width: 350px;
        height: 40px;
      }
      .volume:before {
        content: "";
        display: block;
        background: #ccc;
        width: 100%;
        height: 8px;
        border-radius: 100px;
      }
      .volume-bar {
        background: #008000;
        border-radius: 100px;
        height: 8px;
        left: 0;
        position: absolute;
      }
      .volume-bar.muted {
        width: 0 !important;
      }
      
    </style>
  </head>

  <body>
    <div id="app">
      <div class="container">
        <h1>Vue audio soundcloud</h1>
        <h2>A Vue 2.1.0+ fully customisable player</h2>
        <h3>Play a track to display the player</h3>
        
        <h4>Example 1: single track</h4>
        <div 
          class="track"
          :class="{selected: current === single.id}"
          @click="$AudioSoundcloud.load({
            track: single,
          })"
        >
          <div class="track-cover"><img :src="single.artwork_url" /></div>
          <div>
            <p class="track-artist">{{single.user.username}}</p>
            <p class="track-title">{{single.title}}</p>
          </div>
        </div>
  
        <h4>Example 2: playlist</h4>
        <div 
          class="track"
          v-for="(track) in playlist"
          :key="track.id" 
          :class="{selected: current === track.id}"
          @click="$AudioSoundcloud.load({ track: track, list: playlist, })"
        >
          <div class="track-cover">
            <img :src="track.artwork_url" />
          </div>
          <div>
            <p class="track-artist">{{track.user.username}}</p>
            <p class="track-title">{{track.title}}</p>
          </div>
        </div>
      </div>

      <!-- Audio player -->
      <vue-audio-soundcloud :elements="{ timeline: 'timeline', volume: 'volume' }" :default-volume="80" @load="setNewTrack" class="player">
        <template slot-scope="{currentTrack, duration, listPosition, loop, isLoop, isMuted, isPlaying, next, play, pause, previous, progression, volume}">
          <button @click="previous()" :class="{disabled: !listPosition || listPosition.first}">Prev</button>
          <button @click="play()" v-if="!isPlaying"><i class="material-icons">play_arrow</i></button>
          <button @click="pause()" v-else><i class="material-icons">pause</i></button>
          <button @click="loop()">Loop: {{isLoop}}</button>
          <button @click="next()" :class="{disabled: !listPosition || listPosition.last}">Next</button>
          {{duration.current}} / {{duration.total}} {{currentTrack.title}}
      
          <div class="timeline" id="timeline">
            <div class="timeline-bar" :style="`width:${progression}%`"></div>
          </div>
      
          <div class="volume" id="volume">
            <div class="volume-bar" :style="`width:${volume}%`" :class="{muted: isMuted}"></div>
          </div>
        </template>
      </vue-audio-soundcloud>
    </div>

    <script type="text/javascript">
      window.onload = function () {
        Vue.use(VueAudioSoundcloud)
        new Vue({
          el: "#app",
          data: () => ({
            current: '',
            display: false,
            single: { "id": 201922393, "duration": 166598, "title": "Sometime (feat. Brasstracks)", "uri": "https://api.soundcloud.com/tracks/201922393", "user": { "username": "Yung Bae", }, "artwork_url": "https://i1.sndcdn.com/artworks-000165410685-mu11g2-large.jpg", },
            playlist: [
              {
                "id": 259855403,
                "duration": 244110,
                "title": "Childish Gambino - Sober (Oliver Nelson Remix)",
                "uri": "https://api.soundcloud.com/tracks/259855403",
                "user": {
                  "username": "Perfect Havoc Mixtapes",
                },
                "artwork_url": "https://i1.sndcdn.com/artworks-000158893822-89kr8d-large.jpg",
              },
              {
                "id": 154763550,
                "duration": 208006,
                "title": "Feel Your Love",
                "uri": "https://api.soundcloud.com/tracks/154763550",
                "user": {
                  "username": "Falqo (Official)",
                },
                "artwork_url": "https://i1.sndcdn.com/artworks-000082621059-c86hus-large.jpg",
              },
              {
                "id": 263201308,
                "duration": 215295,
                "title": "Satin Jackets Feat. Scavenger Hunt - Feel Good (Cavego Remix)",
                "uri": "https://api.soundcloud.com/tracks/263201308",
                "user": {
                  "username": "Cavego",
                },
                "artwork_url": "https://i1.sndcdn.com/artworks-000161983165-zdz5at-large.jpg",
              },
              {
                "id": 252065779,
                "duration": 273266,
                "title": "Falqo - Across The Sea",
                "uri": "https://api.soundcloud.com/tracks/252065779",
                "user": {
                  "username": "Surfin Wavs",
                },
                "artwork_url": "https://i1.sndcdn.com/artworks-000151060956-ux6t8h-large.jpg",
              },
              {
                "id": 157033536,
                "duration": 236195,
                "title": "Sam Smith - Stay With Me (Throttle Remix)",
                "uri": "https://api.soundcloud.com/tracks/157033536",
                "user": {
                  "username": "EARMILK",
                },
                "artwork_url": "https://i1.sndcdn.com/artworks-000084075014-o9cb5q-large.jpg",
              }
            ],
          }),
          methods: {
            setNewTrack(id) {
              this.current = id
            }
          },
        })
      }
    </script>
  </body>

</html>